webpackJsonp([1],{NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n=a("zL8q"),i=a.n(n),o=(a("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var r=a("VU/8")({name:"App"},o,!1,function(e){a("cLE/")},null,null).exports,l=a("/ocq"),c=a("mtWM"),u=a.n(c),p={name:"Index",data:function(){return{apiKey:"AIzaSyCJmd5VpiUmlg8o-ROm-4rW6DLYKJa5oVA",userPhotoBase64:"",isFetchItem:!1,hasUpload:!1,hasVision:!1,item:{name:""}}},computed:{userPhoto:function(){return this.userPhotoBase64.split(",")[1]}},methods:{onChange:function(e){var t=this;if(e.target.files&&e.target.files[0]){var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onload=function(e){t.hasUpload=!0,t.userPhotoBase64=e.target.result}}},onSubmit:function(){var e=this;if(!this.isFetchItem){this.isFetchItem=!0,this.hasVision=!1;var t={requests:[{image:{content:this.userPhoto},features:[{type:"WEB_DETECTION"}]}]};u()({method:"post",url:"https://vision.googleapis.com/v1/images:annotate?key="+this.apiKey,data:t}).then(function(t){console.log(t.data),e.hasVision=!0,e.item.name=t.data.responses[0].webDetection.bestGuessLabels[0].label,console.log(e.item.name),e.isFetchItem=!1}).catch(function(t){console.log(t),e.isFetchItem=!1})}}},watch:{}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"page"},[a("h1",[e._v("UPLOAD YOUR PHOTOS")]),e._v(" "),a("header",{staticClass:"page__header"},[a("input",{staticClass:"page-header__input",attrs:{id:"uploadFile",type:"file"},on:{change:e.onChange}}),e._v(" "),a("label",{class:["page-header__tips",e.hasUpload?"upload":""],attrs:{for:"uploadFile"}},[e.hasUpload?e._e():a("el-button",{staticClass:"page-header__tipsbtn",attrs:{type:"primary"}},[e._v("\n        upload\n        "),a("i",{staticClass:"el-icon-upload el-icon--right"})]),e._v(" "),e.hasUpload?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isFetchItem,expression:"isFetchItem"}],staticClass:"page-header__photo"},[a("img",{attrs:{src:e.userPhotoBase64}})]):e._e()],1)]),e._v(" "),e.hasUpload?a("el-main",[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("\n      START\n      "),a("i",{staticClass:"el-icon-refresh el-icon--right"})]),e._v(" "),e.hasVision?a("span",{staticClass:"item-title"},[e._v("NAME")]):e._e(),e._v(" "),e.hasVision?a("span",{staticClass:"item-name"},[e._v(e._s(e.item.name))]):e._e()],1):e._e()],1)},staticRenderFns:[]};var d=a("VU/8")(p,h,!1,function(e){a("YNgA")},null,null).exports;s.default.use(l.a);var m=new l.a({routes:[{path:"/",name:"index",component:d}]});s.default.use(i.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:m,components:{App:r},template:"<App/>"})},YNgA:function(e,t){},"cLE/":function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.73e209e03711002185e4.js.map